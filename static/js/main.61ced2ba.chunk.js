(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={Placeholder:"Placeholder_Placeholder__36A74",gradient:"Placeholder_gradient__2PMz_",title:"Placeholder_title__2DdFb"}},12:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3hRRr",img:"ImageGalleryItem_img__ZYHI2"}},15:function(e,t,n){e.exports={Container:"Container_Container__15PnR"}},16:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__Sswk4"}},17:function(e,t,n){e.exports={button:"Button_button__Owx0r"}},23:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),o=n.n(r),s=(n(23),n(13)),i=n(3),l=n(14),u=n.n(l),b=(n(44),n(9)),m=(n(45),n(15)),j=n.n(m),d=n(1);function h(e){var t=e.children;return Object(d.jsx)("div",{className:j.a.Container,children:t})}var f=n(11),O=n.n(f);function g(e){var t=e.text;return Object(d.jsx)("section",{className:O.a.Placeholder,children:Object(d.jsx)("h1",{className:O.a.title,children:t})})}var _=n(5),p=n.n(_);function x(e){var t=e.setTopic,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:p.a.Searchbar,children:Object(d.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r),o(""))},children:[Object(d.jsx)("button",{type:"submit",className:p.a.button,children:Object(d.jsx)("span",{className:p.a.buttonLabel,children:"Search"})}),Object(d.jsx)("input",{onChange:function(e){o(e.target.value)},className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r})]})})}var v=n(16),S=n.n(v),I=n(12),w=n.n(I);function k(e){var t=e.images,n=e.onImgClick;return t.map((function(e){var t=e.id,a=e.webformatURL,c=e.tags;return Object(d.jsx)("li",{className:w.a.ImageGalleryItem,onClick:function(){return n(t)},children:Object(d.jsx)("img",{className:w.a.img,src:a,alt:c})},t)}))}function y(e){var t=e.images,n=e.onImgClick;return Object(d.jsx)("ul",{className:S.a.ImageGallery,children:Object(d.jsx)(k,{images:t,onImgClick:n})})}var C=n(17),N=n.n(C);function P(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:function(){return t()},className:N.a.button,children:"Load more"})}var G=n(7),L=n.n(G),E=n(18),F=document.querySelector("#modal-root");function M(e){var t=e.showModal,n=e.children,c=Object(a.useRef)(null);Object(a.useEffect)((function(){window.addEventListener("keydown",c.current)}),[]),Object(a.useEffect)((function(){return function(){window.removeEventListener("keydown",c.current)}})),c.current=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(d.jsxs)("div",{className:L.a.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:[Object(d.jsx)("button",{type:"button",onClick:function(){return t()},className:L.a.button,children:Object(d.jsx)(E.a,{className:L.a.icon})}),Object(d.jsx)("div",{className:L.a.modal,children:n})]}),F)}var T="idle",B="rejected",R="resolved";var q=function(){var e=Object(a.useState)(T),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],m=o[1],j=Object(a.useState)(!1),f=Object(i.a)(j,2),O=f[0],_=f[1],p=Object(a.useState)(1),v=Object(i.a)(p,2),S=v[0],I=v[1],w=Object(a.useState)([]),k=Object(i.a)(w,2),C=k[0],N=k[1],G=Object(a.useState)(!1),L=Object(i.a)(G,2),E=L[0],F=L[1],q=Object(a.useState)(null),A=Object(i.a)(q,2),J=A[0],U=A[1];Object(a.useEffect)((function(){""!==l&&(1===S&&z(),_(!0),function(e,t){return fetch("https://pixabay.com/api/?key=".concat("21273112-45be21eebf5785c737b42a518","&q=").concat(t,"&image_type=photo&orientation=horizontal&page=").concat(e,"&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Some server issue seems to have occured. Please try again"))}))}(S,l).then((function(e){e.hits.length<12&&b.b.warn("No more images to load",{toastId:"anotherCustomId"}),N((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),c(R)})).catch((function(){return c(B)})).finally((function(){_(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[S,l]);var z=function(){N([])};return Object(d.jsxs)(h,{children:[Object(d.jsx)(x,{setTopic:function(e){l!==e.toLowerCase()?(m(e.toLowerCase()),I(1)):b.b.dark("The same request! Try something another :)",{toastId:"customId"})}}),"idle"===n?Object(d.jsx)(g,{text:"Use the search bar above if you are looking to get an awesome wallpaper"}):null,"resolved"===n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{images:C,onImgClick:function(e){var t=C.find((function(t){return t.id===e}));U(t),F((function(e){return!e}))}}),Object(d.jsx)(P,{onClick:function(){return I((function(e){return e+1}))}})]}):null,O&&Object(d.jsx)(u.a,{className:"Loader",type:"Grid",color:"#9900cc",height:180,width:180}),"rejected"===n?Object(d.jsx)(g,{text:"Some error occured while fetching requested images"}):null,E&&Object(d.jsx)(M,{showModal:function(){return F((function(e){return!e}))},children:Object(d.jsx)("img",{src:J.largeImageURL,alt:J.tags})}),Object(d.jsx)(b.a,{})]})};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(q,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={Searchbar:"SearchBar_Searchbar__1TCJQ",SearchForm:"SearchBar_SearchForm__1MSwL",button:"SearchBar_button__NfdAP",SearchFormInput:"SearchBar_SearchFormInput__1m2P2"}},7:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3mA9b",modal:"Modal_modal__1WjPk",button:"Modal_button__1QKtP",icon:"Modal_icon__3GYgV"}}},[[47,1,2]]]);
//# sourceMappingURL=main.61ced2ba.chunk.js.map